schema_version: v0.5.0
dataset_version: v0.1.0

output:
  variables:
    static: [grid_index, static_feature]
    forcing: [time, grid_index, forcing_feature]
  coord_ranges:
    time:
      start: 2015-11-25T00:00
      end: 2020-10-31T00:00
      step: PT1H
  chunking:
    time: 1
  splitting:
    dim: time
    splits:
      train:
        start: 2015-11-25T00:00
        end: 2019-07-02T00:00
        compute_statistics:
          ops: [mean, std, diff_mean, diff_std]
          dims: [grid_index, time]
      val:
        start: 2019-07-01T00:00
        end: 2020-01-02T00:00
      test:
        start: 2020-01-01T00:00
        end: 2020-10-31T00:00
  # domain_cropping:
  #   margin_width_degrees: 10
  #   interior_dataset_config_path: cosmo.datastore.yaml

inputs:
#   era_height_levels:
#     path: 'gs://weatherbench2/datasets/era5/1959-2022-6h-1440x721.zarr'
#     dims: [time, longitude, latitude, level]
#     variables:
#       u_component_of_wind:
#         level:
#           values: [1000,]
#           units: hPa
#     dim_mapping:
#       time:
#         method: rename
#         dim: time
#       forcing_feature:
#         method: stack_variables_by_var_name
#         dims: [level]
#         name_format: "{var_name}{level}hPa"
#       grid_index:
#         method: stack
#         dims: [longitude, latitude]
#     target_output_variable: forcing

  era5_surface:
    path: '/capstor/store/cscs/ERA5/weatherbench2_original'
    dims: [time, longitude, latitude, level]
    variables:
      - mean_sea_level_pressure
      - 2m_temperature
      - 10m_u_component_of_wind
      - 10m_v_component_of_wind
    dim_mapping:
      time:
        method: rename
        dim: time
      forcing_feature:
        method: stack_variables_by_var_name
        name_format: "{var_name}"
      grid_index:
        method: stack
        dims: [longitude, latitude]
    target_output_variable: forcing

  era5_static:
    path: '/capstor/store/cscs/ERA5/weatherbench2_original'
    dims: [time, longitude, latitude, level]
    variables:
      - land_sea_mask
      - geopotential_at_surface
    dim_mapping:
      static_feature:
        method: stack_variables_by_var_name
        name_format: "{var_name}"
      grid_index:
        method: stack
        dims: [longitude, latitude]
    target_output_variable: static

extra:
  projection:
    class_name: PlateCarree
    kwargs:
      central_longitude: 0.0